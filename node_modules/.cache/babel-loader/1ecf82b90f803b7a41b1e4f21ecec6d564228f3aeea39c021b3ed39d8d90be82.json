{"ast":null,"code":"import _objectSpread from\"/home/mintifi/Desktop/tourism-management/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/mintifi/Desktop/tourism-management/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{Button,Row,Col}from\"react-bootstrap\";import{DragDropContext,Draggable,Droppable}from\"react-beautiful-dnd\";import DroppableList from'./droppableList';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function LeadsOverview(_ref){var DATA=_ref.DATA,sortList=_ref.sortList;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),items=_useState2[0],setItems=_useState2[1];var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),groups=_useState4[0],setGroups=_useState4[1];useEffect(function(){// Mock an API call.\nbuildAndSave(DATA);},[]);function buildAndSave(items){var groups={};for(var i=0;i<Object.keys(items).length;++i){var currentGroup=items[i];groups[currentGroup.id]=i;}// Set the data.\nsortList(items);setItems(items);// Makes the groups searchable via their id.\nsetGroups(groups);}return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:function onDragEnd(result){var destination=result.destination,draggableId=result.draggableId,source=result.source,type=result.type;if(!destination){return;}if(destination.droppableId===source.droppableId&&destination.index===source.index){return;}if('group'===type){var sourceIndex=source.index;var targetIndex=destination.index;var _workValue=items.slice();var _workValue$splice=_workValue.splice(sourceIndex,1),_workValue$splice2=_slicedToArray(_workValue$splice,1),_deletedItem=_workValue$splice2[0];_workValue.splice(targetIndex,0,_deletedItem);buildAndSave(_workValue);return;}var sourceDroppableIndex=groups[source.droppableId];var targetDroppableIndex=groups[destination.droppableId];var sourceItems=items[sourceDroppableIndex].items.slice();var targetItems=source.droppableId!==destination.droppableId?items[targetDroppableIndex].items.slice():sourceItems;// Pull the item from the source.\nvar _sourceItems$splice=sourceItems.splice(source.index,1),_sourceItems$splice2=_slicedToArray(_sourceItems$splice,1),deletedItem=_sourceItems$splice2[0];targetItems.splice(destination.index,0,deletedItem);var workValue=items.slice();workValue[sourceDroppableIndex]=_objectSpread(_objectSpread({},items[sourceDroppableIndex]),{},{items:sourceItems});workValue[targetDroppableIndex]=_objectSpread(_objectSpread({},items[targetDroppableIndex]),{},{items:targetItems});sortList(workValue);setItems(workValue);},children:/*#__PURE__*/_jsx(Droppable,{droppableId:\"ROOT\",type:\"group\",children:function children(provided){return/*#__PURE__*/_jsxs(Row,_objectSpread(_objectSpread({},provided.droppableProps),{},{ref:provided.innerRef,children:[items.map(function(item,index){return/*#__PURE__*/_jsx(Draggable,{draggableId:item.id,index:index,children:function children(provided){return/*#__PURE__*/_jsx(Col,_objectSpread(_objectSpread(_objectSpread({},provided.draggableProps),provided.dragHandleProps),{},{ref:provided.innerRef,children:/*#__PURE__*/_jsx(DroppableList,_objectSpread({},item),item.id)}));}},item.id);}),provided.placeholder]}));}})})});}export default LeadsOverview;","map":{"version":3,"names":["React","useEffect","useState","Button","Row","Col","DragDropContext","Draggable","Droppable","DroppableList","LeadsOverview","DATA","sortList","items","setItems","groups","setGroups","buildAndSave","i","Object","keys","length","currentGroup","id","result","destination","draggableId","source","type","droppableId","index","sourceIndex","targetIndex","workValue","slice","splice","deletedItem","sourceDroppableIndex","targetDroppableIndex","sourceItems","targetItems","provided","droppableProps","innerRef","map","item","draggableProps","dragHandleProps","placeholder"],"sources":["/home/mintifi/Desktop/tourism-management/src/component/schedule/leadsOverview.js"],"sourcesContent":["import React,{useEffect,useState} from \"react\";\nimport {Button,Row,Col} from \"react-bootstrap\";\n\nimport { DragDropContext, Draggable, Droppable } from \"react-beautiful-dnd\";\nimport DroppableList from './droppableList';\n\nfunction LeadsOverview({DATA,sortList}) {\n    const [items, setItems] = useState([]);\n    const [groups, setGroups] = useState({});\n    \n    useEffect(() => {\n      // Mock an API call.\n      buildAndSave(DATA);\n    }, []);\n    \n    function buildAndSave(items){\n      const groups = {};\n      for (let i = 0; i < Object.keys(items).length; ++i) {      \n          const currentGroup = items[i];\n          groups[currentGroup.id] = i;\n  \n      }\n      \n      // Set the data.\n      sortList(items)\n      setItems(items);\n      \n\n      // Makes the groups searchable via their id.\n      setGroups(groups);\n    }\n    return (\n    <>\n      <DragDropContext \n        onDragEnd={(result) => {\n          const { destination, draggableId, source, type, } = result;\n  \n          if (!destination) {\n            return;\n          }\n  \n          if (destination.droppableId === source.droppableId && destination.index === source.index) {\n            return;\n          }\n          \n          if ('group' === type) {\n            const sourceIndex = source.index;\n            const targetIndex = destination.index;\n            const workValue = items.slice();\n            const [deletedItem, ] = workValue.splice(sourceIndex, 1);\n            workValue.splice(targetIndex, 0, deletedItem);\n  \n            buildAndSave(workValue);\n            \n            return;\n          }\n  \n          const sourceDroppableIndex = groups[source.droppableId];\n          const targetDroppableIndex = groups[destination.droppableId];\n          const sourceItems = items[sourceDroppableIndex].items.slice();\n          const targetItems = source.droppableId !== destination.droppableId ? items[targetDroppableIndex].items.slice() : sourceItems;\n          \n          // Pull the item from the source.\n          const [deletedItem, ] = sourceItems.splice(source.index, 1);\n          targetItems.splice(destination.index, 0, deletedItem);\n          \n          const workValue = items.slice();\n\n          workValue[sourceDroppableIndex] = {\n            ...items[sourceDroppableIndex],\n            items: sourceItems,\n          };\n          workValue[targetDroppableIndex] = {\n            ...items[targetDroppableIndex],\n            items: targetItems,\n          };\n          \n          sortList(workValue);\n          setItems(workValue);\n        }}\n      >\n        <Droppable droppableId='ROOT' type='group' >\n          {(provided) => (\n            <Row\n              {...provided.droppableProps}\n              ref={provided.innerRef}\n            >\n              {items.map((item, index) => (\n                <Draggable \n                 \n                  draggableId={item.id}\n                  key={item.id}\n                  index={index}\n                >\n                  {(provided) => (\n                    <Col\n                      {...provided.draggableProps}\n                      {...provided.dragHandleProps}\n                      ref={provided.innerRef}\n                    >\n                      <DroppableList\n                        key={item.id}\n                        {...item}\n                      />\n                    </Col >\n                  )}\n                </Draggable>\n              ))}\n              {provided.placeholder}\n            </Row>\n          )}\n        </Droppable>\n      </DragDropContext>\n      </>\n    );\n  }\n  \n  export default LeadsOverview"],"mappings":"2PAAA,MAAOA,MAAK,EAAEC,SAAS,CAACC,QAAQ,KAAO,OAAO,CAC9C,OAAQC,MAAM,CAACC,GAAG,CAACC,GAAG,KAAO,iBAAiB,CAE9C,OAASC,eAAe,CAAEC,SAAS,CAAEC,SAAS,KAAQ,qBAAqB,CAC3E,MAAOC,cAAa,KAAM,iBAAiB,CAAC,6IAE5C,QAASC,cAAa,MAAkB,IAAhBC,KAAI,MAAJA,IAAI,CAACC,QAAQ,MAARA,QAAQ,CACjC,cAA0BV,QAAQ,CAAC,EAAE,CAAC,wCAA/BW,KAAK,eAAEC,QAAQ,eACtB,eAA4BZ,QAAQ,CAAC,CAAC,CAAC,CAAC,yCAAjCa,MAAM,eAAEC,SAAS,eAExBf,SAAS,CAAC,UAAM,CACd;AACAgB,YAAY,CAACN,IAAI,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,QAASM,aAAY,CAACJ,KAAK,CAAC,CAC1B,GAAME,OAAM,CAAG,CAAC,CAAC,CACjB,IAAK,GAAIG,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGC,MAAM,CAACC,IAAI,CAACP,KAAK,CAAC,CAACQ,MAAM,CAAE,EAAEH,CAAC,CAAE,CAChD,GAAMI,aAAY,CAAGT,KAAK,CAACK,CAAC,CAAC,CAC7BH,MAAM,CAACO,YAAY,CAACC,EAAE,CAAC,CAAGL,CAAC,CAE/B,CAEA;AACAN,QAAQ,CAACC,KAAK,CAAC,CACfC,QAAQ,CAACD,KAAK,CAAC,CAGf;AACAG,SAAS,CAACD,MAAM,CAAC,CACnB,CACA,mBACA,sCACE,KAAC,eAAe,EACd,SAAS,CAAE,mBAACS,MAAM,CAAK,CACrB,GAAQC,YAAW,CAAiCD,MAAM,CAAlDC,WAAW,CAAEC,WAAW,CAAoBF,MAAM,CAArCE,WAAW,CAAEC,MAAM,CAAYH,MAAM,CAAxBG,MAAM,CAAEC,IAAI,CAAMJ,MAAM,CAAhBI,IAAI,CAE9C,GAAI,CAACH,WAAW,CAAE,CAChB,OACF,CAEA,GAAIA,WAAW,CAACI,WAAW,GAAKF,MAAM,CAACE,WAAW,EAAIJ,WAAW,CAACK,KAAK,GAAKH,MAAM,CAACG,KAAK,CAAE,CACxF,OACF,CAEA,GAAI,OAAO,GAAKF,IAAI,CAAE,CACpB,GAAMG,YAAW,CAAGJ,MAAM,CAACG,KAAK,CAChC,GAAME,YAAW,CAAGP,WAAW,CAACK,KAAK,CACrC,GAAMG,WAAS,CAAGpB,KAAK,CAACqB,KAAK,EAAE,CAC/B,sBAAwBD,UAAS,CAACE,MAAM,CAACJ,WAAW,CAAE,CAAC,CAAC,wDAAjDK,YAAW,uBAClBH,UAAS,CAACE,MAAM,CAACH,WAAW,CAAE,CAAC,CAAEI,YAAW,CAAC,CAE7CnB,YAAY,CAACgB,UAAS,CAAC,CAEvB,OACF,CAEA,GAAMI,qBAAoB,CAAGtB,MAAM,CAACY,MAAM,CAACE,WAAW,CAAC,CACvD,GAAMS,qBAAoB,CAAGvB,MAAM,CAACU,WAAW,CAACI,WAAW,CAAC,CAC5D,GAAMU,YAAW,CAAG1B,KAAK,CAACwB,oBAAoB,CAAC,CAACxB,KAAK,CAACqB,KAAK,EAAE,CAC7D,GAAMM,YAAW,CAAGb,MAAM,CAACE,WAAW,GAAKJ,WAAW,CAACI,WAAW,CAAGhB,KAAK,CAACyB,oBAAoB,CAAC,CAACzB,KAAK,CAACqB,KAAK,EAAE,CAAGK,WAAW,CAE5H;AACA,wBAAwBA,WAAW,CAACJ,MAAM,CAACR,MAAM,CAACG,KAAK,CAAE,CAAC,CAAC,4DAApDM,WAAW,yBAClBI,WAAW,CAACL,MAAM,CAACV,WAAW,CAACK,KAAK,CAAE,CAAC,CAAEM,WAAW,CAAC,CAErD,GAAMH,UAAS,CAAGpB,KAAK,CAACqB,KAAK,EAAE,CAE/BD,SAAS,CAACI,oBAAoB,CAAC,gCAC1BxB,KAAK,CAACwB,oBAAoB,CAAC,MAC9BxB,KAAK,CAAE0B,WAAW,EACnB,CACDN,SAAS,CAACK,oBAAoB,CAAC,gCAC1BzB,KAAK,CAACyB,oBAAoB,CAAC,MAC9BzB,KAAK,CAAE2B,WAAW,EACnB,CAED5B,QAAQ,CAACqB,SAAS,CAAC,CACnBnB,QAAQ,CAACmB,SAAS,CAAC,CACrB,CAAE,uBAEF,KAAC,SAAS,EAAC,WAAW,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,UACvC,kBAACQ,QAAQ,qBACR,MAAC,GAAG,gCACEA,QAAQ,CAACC,cAAc,MAC3B,GAAG,CAAED,QAAQ,CAACE,QAAS,WAEtB9B,KAAK,CAAC+B,GAAG,CAAC,SAACC,IAAI,CAAEf,KAAK,qBACrB,KAAC,SAAS,EAER,WAAW,CAAEe,IAAI,CAACtB,EAAG,CAErB,KAAK,CAAEO,KAAM,UAEZ,kBAACW,QAAQ,qBACR,KAAC,GAAG,8CACEA,QAAQ,CAACK,cAAc,EACvBL,QAAQ,CAACM,eAAe,MAC5B,GAAG,CAAEN,QAAQ,CAACE,QAAS,uBAEvB,KAAC,aAAa,kBAERE,IAAI,EADHA,IAAI,CAACtB,EAAE,CAEZ,GACG,EACR,EAdIsB,IAAI,CAACtB,EAAE,CAeF,EACb,CAAC,CACDkB,QAAQ,CAACO,WAAW,IACjB,EACP,EACS,EACI,EACf,CAEP,CAEA,cAAetC,cAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}